(this["webpackJsonpgoshtbattle-interface"]=this["webpackJsonpgoshtbattle-interface"]||[]).push([[1],{197:function(e){e.exports=JSON.parse('{"translation":{"bet_header":"Do you bet on Even or Odd?","bet_btn":"Bet","even":"Even","odd":"Odd","instructions":"How does it work?","instructions_step_1":"Choose even or odd and place the bet, when a second participant places his bet, a safe result will be randomly obtained thanks to the oracle","instructions_step_2":"If the result obtained is the same as the one you indicated, you get ","instructions_step_3":"If both participants have selected the same value, you get ","instructions_step_4":"If you do not guess the value, you do not take anything.","instructions_step_5":"2% is deducted from the prize to maintain the DAPP.","by":"by","badge":"usd","badge_symbol":"$","english":"English","spanish":"Spanish","connect_metamask":"Connect wallet","network_not_supported":"You must select the Polygon network ;D","sending_bet_title":"Sending bet...","sending_bet_body":"Be patient, depending on network congestion it may take a while...","sended_bet_title":"Successfully sent bet","sended_bet_body":"If you win you will receive the amount in your wallet","sended_bet_error_title":"Error","sended_bet_error_body":"Your bet has been reversed and the design has been returned to your wallet","winner_bet_title":"Congratulations you\'ve won!! =D","winner_bet_body":"You have won ","losse_bet_title":"Oops...you lost =(","lose_bet_body":"Don\'t be discouraged, next time you might get it ;D","draw_bet_title":"You have drawn","draw_bet_body":"You have retrieved ","statistics":"Statistics (Even: {{even}} % - Odd: {{odd}} %)","contract":"Contract"}}')},198:function(e){e.exports=JSON.parse('{"translation":{"bet_header":"\xbfApuestas por Par o por Impar?","bet_btn":"Apostar","even":"Par","odd":"Impar","instructions":"\xbfComo funciona?","instructions_step_1":"Elige par o impar y realiza la apuesta, c\xfaando un segundo participe realize su apuesta, aleatoriamente se obtendr\xe1 un resultado seguro gracias al oraculo","instructions_step_0":"Conecta tu wallet a la red de ","instructions_step_2":"Si el resultado obtenido es igual al que indicaste te llevas ","instructions_step_3":"Si ambos participantes selecciona\xeds el mismo valor, te llevas ","instructions_step_4":"Si no aciertas el valor, no te llevas nada =(.","instructions_step_5":"El 2% del premio nos lo quedamos para mantener la DAPP ;D","by":"por","badge":"eur","badge_symbol":"\u20ac","english":"Ingles","spanish":"Espa\xf1ol","connect_metamask":"Conectar wallet","network_not_supported":"Debes seleccionar la red de Polygon ;D","sending_bet_title":"Enviando apuesta...","sending_bet_body":"Paciencia, dependiendo de la congesti\xf3n de la red puede tardar un poco...","sended_bet_title":"Apuesta enviada correctamente","sended_bet_body":"Si ganas recibiras el importe en tu wallet","sended_bet_error_title":"Error","sended_bet_error_body":"Tu apuesta se ha revertido y el diseno se ha devuelto a tu wallet","winner_bet_title":"Enhorabuena has ganado!! =D","winner_bet_body":"Has ganado ","losse_bet_title":"Vaya...has perdido =(","lose_bet_body":"No te desanimes, la siguiente puede que lo consigas ;D","draw_bet_title":"Has empatado","draw_bet_body":"Has recuperado ","statistics":"Estad\xedsticas (Par: {{even}} % - Impar: {{odd}} %)","contract":"Contrato"}}')},226:function(e,t){},245:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(82),i=n.n(r),o=n(31),c=n(4),l=n.n(c),d=n(56),u=n(13),b=n(275),p=n(277),j=n(261),h=n(262),m=n(141),g=n(278),y=n(281),O=n(202),_=n(45),x=n(280),f=n(98),v={address:{80001:"0x4f38EB3a6CD5EB7A596CB07f2E8c2c2B2350cAed",137:"0xCfBD70e8927b131cF26E92F7eD7EeCA274Ac259b"},abi:[{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"makeBet",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_betcost",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes32",name:"requestId",type:"bytes32"},{internalType:"uint256",name:"randomness",type:"uint256"}],name:"rawFulfillRandomness",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"participant",type:"address"},{indexed:!1,internalType:"enum CryptoEvenOddVRF.Result",name:"result",type:"uint8"},{indexed:!1,internalType:"uint256",name:"award",type:"uint256"}],name:"Resolve",type:"event"},{inputs:[{internalType:"uint256",name:"_newCost",type:"uint256"}],name:"setBetCost",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawLINK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"betCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"evenCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLINKBalance",outputs:[{internalType:"uint256",name:"link",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oddCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}]},w=v.address,k=v.abi,C=function(){var e=Object(_.c)(),t=e.active,n=e.account,s=e.library,r=e.chainId;return Object(a.useMemo)((function(){if(t){var e=s.getSigner(n).connectUnchecked();return new f.b(w[r],k,e)}}),[t,r,s,n])},E=n(77),S={137:{id:"matic-network",symbol:"MATIC",network_image_url:"https://www.inversion.es/wp-content/uploads/2021/07/polygon-1068x427.png",metamask_tutorial:"https://academy.binance.com/es/articles/how-to-add-polygon-to-metamask"},80001:{id:"matic-network",symbol:"MATICMUM",network_image_url:"https://www.inversion.es/wp-content/uploads/2021/07/polygon-1068x427.png",metamask_tutorial:"https://academy.binance.com/es/articles/how-to-add-polygon-to-metamask"}},I=n(9),M=function(){var e=Object(_.c)(),t=e.account,n=e.chainId,s=e.active,r=Object(a.useState)(0),i=Object(u.a)(r,2),o=i[0],c=i[1],f=Object(a.useState)(0),v=Object(u.a)(f,2),w=v[0],k=v[1],M=Object(a.useState)(0),T=Object(u.a)(M,2),B=T[0],N=T[1],D=Object(a.useState)(null),L=Object(u.a)(D,2),A=L[0],F=L[1],P=Object(a.useState)(""),z=Object(u.a)(P,2),R=z[0],W=z[1],H=Object(a.useState)("0"),q=Object(u.a)(H,2),J=q[0],Y=q[1],V=Object(a.useState)(!1),K=Object(u.a)(V,2),U=K[0],$=K[1],G=C(),Q=Object(b.a)(),X=Object(x.a)().t,Z=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=12;break}return e.next=3,G.betCost();case 3:return t=e.sent,e.next=6,G.evenCount();case 6:return n=e.sent,e.next=9,G.oddCount();case 9:a=e.sent,Number(a)+Number(n)==0?(k(Number(1)),N(Number(1))):(k(Number(n)),N(Number(a))),c(t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){n&&(W(S[n].symbol),fetch("https://api.coingecko.com/api/v3/simple/price?ids="+S[n].id+"&vs_currencies="+X("badge")).then((function(e){return e.json()})).then((function(e){F(e[S[n].id][X("badge")])})).catch((function(e){console.log(e)})))}),[n]),Object(a.useEffect)((function(){Z()}),[s]);var ee=function(e,t,n){return{title:e,message:t,status:n}},te=[ee("losse_bet_title","losse_bet_title","error"),ee("winner_bet_title","winner_bet_body","success"),ee("draw_bet_title","draw_bet_body","warning")],ne=function(e,t,n){console.log("a");var a=E.a.utils.formatEther(n);Z(),Q({title:X(te[t].title),description:X(te[t].message,a)+R,status:X(te[t].status)})};Object(a.useEffect)((function(){if(G){var e=G.filters.Resolve(t);return G.once(e,ne),function(){G.removeListener(e,ne)}}}),[G]);var ae=function(){var e=Object(d.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={from:t,value:o},$(!0),e.next=5,G.callStatic.makeBet(Number(J),n);case 5:return e.next=7,G.makeBet(Number(J),n);case 7:return a=e.sent,e.next=10,a.wait().then((function(){$(!1),Q({title:X("sended_bet_title"),description:X("sended_bet_body"),status:"info"})}));case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),$(!1),console.log(JSON.stringify(e.t0)),4001==e.t0.code?(console.log(e.t0),Q({title:X("sended_bet_error_title"),description:X("sended_bet_error_body"),status:"error"})):Q({title:"Error",description:JSON.stringify(e.t0),status:"error"});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(p.b,{align:"center",spacing:{base:8,md:10},py:{base:20,md:28},direction:{base:"column-reverse",md:"row"},children:[Object(I.jsxs)(p.b,{flex:3,spacing:{base:5,md:10},children:[Object(I.jsx)(j.a,{align:"center",children:Object(I.jsxs)("strong",{children:[" ",X("statistics",{even:(100*w/(w+B)).toFixed(2),odd:(100*B/(w+B)).toFixed(2)})," "]})}),Object(I.jsxs)(h.a,{lineHeight:1.1,fontWeight:600,fontSize:{base:"3xl",sm:"4xl",lg:"6xl"},children:[Object(I.jsx)(j.a,{align:"center",children:X("bet_header")}),Object(I.jsx)("br",{})]}),Object(I.jsx)(p.b,{align:"center",children:Object(I.jsxs)(m.a,{onChange:Y,value:J,children:[Object(I.jsxs)(g.a,{value:"0",padding:10,children:[Object(I.jsx)(y.a,{src:"/CryptoEvenOdd/images/even.jpg",style:{width:200,height:200}}),Object(I.jsx)(j.a,{align:"center",children:X("even")})]}),Object(I.jsxs)(g.a,{value:"1",padding:10,children:[Object(I.jsx)(y.a,{src:"/CryptoEvenOdd/images/odd.jpg",style:{width:200,height:200}}),Object(I.jsx)(j.a,{align:"center",children:X("odd")})]})]})}),Object(I.jsx)(p.b,{align:"center",children:Object(I.jsx)(O.a,{rounded:"full",size:"lg",fontWeight:"normal",px:6,colorScheme:"green",bg:"green.400",_hover:{bg:"green.500"},disabled:!G||U,onClick:ae,isLoading:U,children:Object(I.jsxs)(j.a,{children:[" ",X("bet_btn")," ",Object(I.jsxs)("strong",{children:[E.a.utils.formatEther(o),R," (",(A*E.a.utils.formatEther(o)).toFixed(2),X("badge_symbol"),")"]}),"  ",X("by")," ",Object(I.jsx)("strong",{children:X(1==J?"odd":"even")}),"  "]})})})]}),Object(I.jsxs)(p.b,{flex:1,spacing:{base:5,md:10},children:[Object(I.jsx)(h.a,{children:X("instructions")}),Object(I.jsxs)(j.a,{children:[X("instructions_step_0"),Object(I.jsx)("a",{target:"_blank",href:S[137].metamask_tutorial,children:Object(I.jsx)(y.a,{style:{width:150,height:60},src:S[137].network_image_url})})]}),Object(I.jsxs)(j.a,{children:[X("instructions_step_1"),Object(I.jsx)("a",{target:"_blank",href:"https://chain.link/chainlink-vrf",children:Object(I.jsx)(y.a,{style:{width:180,height:50},src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Chainlink_Logo_Blue.svg/512px-Chainlink_Logo_Blue.svg.png?20210226190931"})})]}),Object(I.jsxs)(j.a,{children:[X("instructions_step_2")," ",Object(I.jsx)("strong",{children:2*E.a.utils.formatEther(o)*.98})," ",R," (",(A*E.a.utils.formatEther(o)*2*.98).toFixed(2),X("badge_symbol"),")"]}),Object(I.jsxs)(j.a,{children:[X("instructions_step_3")," ",Object(I.jsx)("strong",{children:.98*E.a.utils.formatEther(o)})," ",R," (",(A*E.a.utils.formatEther(o)*.98).toFixed(2),X("badge_symbol"),")"]}),Object(I.jsxs)(j.a,{children:[X("instructions_step_4")," "]}),Object(I.jsx)(j.a,{color:"red",children:X("instructions_step_5")})]})]})},T=n(266),B=n(267),N=n(270),D=n(206),L=n(271),A=n(119),F=(n(159),n(203),n(265),n(99)),P=n(268),z=n(269),R=n(193),W=n(194),H=n(195),q=new R.a({supportedChainIds:[137,80001]}),J=new W.a({rpc:{137:"https://matic-mainnet.chainstacklabs.com",80001:"https://rpc-mumbai.maticvigil.com"},bridge:"https://bridge.walletconnect.org",qrcode:!0,pollingInterval:15e3}),Y=new H.a({url:"https://mainnet.infura.io/v3/17a28e54d1824c4680e8c07d601b8005",appName:"demo-app",supportedChainIds:[137,80001]});var V={injected:q,walletConnect:J,coinbaseWallet:Y},K=function(e){return Object(a.useMemo)((function(){return"".concat(null===e||void 0===e?void 0:e.substr(0,6),"...").concat(null===e||void 0===e?void 0:e.substr(-4))}),[e])},U=n(274);function $(e){var t=e.isOpen,n=e.closeModal,a=Object(_.c)(),s=a.activate,r=(a.deactivate,function(){var e=Object(d.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:window.localStorage.setItem("provider",a),n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return Object(I.jsxs)(U.a,{isOpen:t,onClose:n,isCentered:!0,children:[Object(I.jsx)(U.f,{}),Object(I.jsxs)(U.d,{w:"300px",children:[Object(I.jsx)(U.e,{children:"Select Wallet"}),Object(I.jsx)(U.c,{_focus:{boxShadow:"none"}}),Object(I.jsx)(U.b,{paddingBottom:"1.5rem",children:Object(I.jsxs)(p.c,{children:[Object(I.jsx)(O.a,{variant:"outline",onClick:function(){r(V.walletConnect,"walletConnect")},w:"100%",children:Object(I.jsxs)(p.a,{w:"100%",justifyContent:"center",children:[Object(I.jsx)(y.a,{src:"./images/wc.png",alt:"Wallet Connect Logo",width:26,height:26,borderRadius:"3px"}),Object(I.jsx)(j.a,{children:"Wallet Connect"})]})}),Object(I.jsx)(O.a,{variant:"outline",onClick:function(){r(V.injected,"injected")},w:"100%",children:Object(I.jsxs)(p.a,{w:"100%",justifyContent:"center",children:[Object(I.jsx)(y.a,{src:"./images/mm.png",alt:"Metamask Logo",width:25,height:25,borderRadius:"3px"}),Object(I.jsx)(j.a,{children:"Metamask"})]})})]})})]})]})}var G=function(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(T.a)(),i=r.isOpen,o=r.onOpen,c=r.onClose,b=Object(_.c)(),p=b.library,j=(b.chainId,b.account),h=b.activate,m=b.deactivate,g=b.error,y=b.active,f=Object(x.a)().t,v=g instanceof _.a,w=Object(a.useCallback)(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.provider.request({method:"eth_getBalance",params:[j,"latest"]});case 2:t=e.sent,s((t/1e18).toFixed(4));case 4:case"end":return e.stop()}}),e)}))),[null===p||void 0===p?void 0:p.provider,j]);Object(a.useEffect)((function(){y&&w()}),[y,w]),Object(a.useEffect)(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.localStorage.getItem("provider"))&&h(V[t],function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),[]);var k=K(j);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(B.a,{alignItems:"center",children:y?Object(I.jsxs)(P.a,{colorScheme:"green",borderRadius:"full",children:[Object(I.jsx)(P.c,{children:k}),Object(I.jsxs)(z.a,{d:{base:"none",md:"block"},variant:"solid",fontSize:"0.8rem",ml:1,children:[n," \u039e"]}),Object(I.jsx)(P.b,{onClick:function(){"walletconnect"==window.localStorage.getItem("provider")&&function(){try{J.walletConnectProvider=void 0}catch(g){console.log(g)}}(),window.localStorage.setItem("provider",void 0),m()}})]}):Object(I.jsx)(O.a,{variant:"solid",colorScheme:"green",size:"sm",leftIcon:Object(I.jsx)(A.a,{}),onClick:o,disabled:v,children:f(v?"network_not_supported":"connect_metamask")})}),Object(I.jsx)($,{isOpen:i,closeModal:c})]})},Q=n(105),X=v.address,Z=function(e){var t=e.children,n=Object(T.a)(),a=n.isOpen,s=n.onOpen,r=n.onClose,i=Object(_.c)(),o=i.chainId;i.active;return Object(I.jsxs)(B.a,{minH:"100vh",direction:"column",children:[Object(I.jsxs)(N.a,{mx:"auto",maxW:"7xl",width:"100%",bg:Object(D.d)("white","gray.800"),px:4,children:[Object(I.jsxs)(B.a,{bg:Object(D.d)("white","gray.800"),color:Object(D.d)("gray.600","white"),minH:"60px",py:{base:2},px:{base:4},borderBottom:1,borderStyle:"solid",borderColor:Object(D.d)("gray.200","gray.900"),alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(L.a,{size:"md",icon:a?Object(I.jsx)(A.b,{}):Object(I.jsx)(A.c,{}),"aria-label":"Open Menu",display:{md:"none"},onClick:a?r:s}),Object(I.jsxs)(p.a,{spacing:8,alignItems:"center",children:[Object(I.jsxs)(B.a,{alignItems:"center",children:[Object(I.jsx)(y.a,{src:"/CryptoEvenOdd/favicon.png",width:"50px"}),Object(I.jsx)(h.a,{size:"md",color:"purple",mt:.2,ml:1,children:"EvenOdd"})]}),Object(I.jsx)(p.a,{as:"nav",spacing:4,display:{base:"none",md:"flex"},children:Object(I.jsx)("a",{href:"https://polygonscan.com/address/"+X[o],target:"_blank",children:Object(Q.b)("contract")})})]}),Object(I.jsx)(G,{})]}),a?Object(I.jsx)(N.a,{pb:4,display:{md:"none"},children:Object(I.jsx)(p.b,{as:"nav",spacing:4,children:Object(I.jsx)("a",{href:"https://polygonscan.com/address/"+X[o],target:"_blank",children:Object(Q.b)("contract")})})}):null]}),Object(I.jsx)(N.a,{mx:"auto",flex:1,p:4,maxW:"7xl",width:"100%",children:t})]})},ee=function(){var e=Object(_.c)(),t=(e.active,e.account),n=(e.library,C()),a=function(){var e=Object(d.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=prompt("Ingresa el costo en ethers: ")){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,s={gasLimit:23e4,from:t},e.next=7,n.setBetCost(E.a.BigNumber.from(a),s);case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)(p.b,{children:Object(I.jsx)(O.a,{onClick:a,children:" Cambiar coste de las apuestas "})})};var te=function(){var e=Object(x.a)(),t=(e.t,e.i18n),n=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage;return t.changeLanguage(n.split("-")[0]),Object(I.jsxs)(Z,{children:[Object(I.jsx)(o.a,{path:"/",exact:!0,component:M}),Object(I.jsx)(o.a,{path:"/admin",exact:!0,component:ee})]})},ne=n(276),ae=n(155),se=n(120),re={en:n(197),es:n(198)};Q.a.use(se.e).init({resources:re,lng:"en",interpolation:{escapeValue:!1}});Q.a;var ie=n(272),oe=Object(ie.a)({fonts:{},styles:{global:{body:{bg:"white",color:"black"},a:{color:"#1d57a5",_hover:{textDecoration:"underline"}}}}});i.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(F.a,{children:Object(I.jsx)(ne.a,{theme:oe,children:Object(I.jsx)(_.b,{getLibrary:function(e){var t=new ae.a(e,"any");return t.pollingInterval=15e3,t},children:Object(I.jsx)(te,{})})})})}),document.getElementById("root"))}},[[245,2,3]]]);
//# sourceMappingURL=main.2d9b27a7.chunk.js.map